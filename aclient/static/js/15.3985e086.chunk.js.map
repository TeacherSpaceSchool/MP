{"version":3,"sources":["page/mypreorders.js"],"names":["Main","React","memo","props","document","title","_useState","useState","_useState2","Object","C_projects_misspolin_misspolin_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","preorders","setPreorders","user","authenticated","history","push","del","_ref","C_projects_misspolin_misspolin_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_misspolin_misspolin_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","preitem","data","wrap","_context","prev","next","getSecure","name","sent","undefined","stop","this","_x","apply","arguments","useEffect","_callee2","_context2","window","rerun","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","_component_Title__WEBPACK_IMPORTED_MODULE_6__","length","map","element","idx","_component_Preorders__WEBPACK_IMPORTED_MODULE_7__","type","items","_component_Error__WEBPACK_IMPORTED_MODULE_8__","connect","state","app"],"mappings":"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","file":"static/js/15.3985e086.chunk.js","sourcesContent":["import React, {  useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSecure } from '../redux/actions/app'\r\nimport Title from '../component/Title'\r\nimport Preorder from '../component/Preorders'\r\nimport Error from '../component/Error'\r\n\r\nconst Main = React.memo(\r\n    (props) =>{\r\n        document.title = 'Мои предзаказы'\r\n        let [preorders, setPreorders] = useState([]);\r\n        const { authenticated } = props.user;\r\n        if(!authenticated)\r\n            props.history.push('/signin')\r\n        let del = async(preitem) => {\r\n            let data = await getSecure({name: 'УдалитьПредзаказ', data: {preitem: preitem}})\r\n            if(data==='ok'){\r\n                data = await getSecure({name: 'ПредзаказПользователь'})\r\n                if(data!=undefined)\r\n                    await setPreorders(data)\r\n                else setPreorders([])\r\n            }\r\n        };\r\n        useEffect(async ()=>{\r\n            let data = await getSecure({name: 'ПредзаказПользователь'})\r\n            if(data!=undefined)\r\n                await setPreorders(data)\r\n            if(window.rerun!=undefined)\r\n                await window.rerun()\r\n        },[]);\r\n        return (\r\n            <>\r\n            <Title title=\"Мои предзаказы\"/>\r\n            {preorders.length>3?\r\n                preorders.map((element, idx) => {\r\n                    if(idx!==0&&(idx+1)%4===0) {\r\n                        return <Preorder del={del} type={2} history={props.history} items={[preorders[idx-3], preorders[idx-2], preorders[idx-1], preorders[idx]]}/>\r\n                    }\r\n                    else if(idx+1===preorders.length) {\r\n                        if((idx+1)%3===0)\r\n                            return <Preorder del={del} type={2} history={props.history} items={[preorders[idx-2], preorders[idx-1], preorders[idx]]}/>\r\n                        else if((idx+1)%2===0)\r\n                            return <Preorder del={del} type={2} history={props.history} items={[preorders[idx-1], preorders[idx]]}/>\r\n                        else\r\n                            return <Preorder del={del} type={2} history={props.history} items={[preorders[idx]]}/>\r\n                    }\r\n                })\r\n                :preorders.length>1?\r\n                    <Preorder type={2} del={del} history={props.history} items={[preorders[0], preorders[1], preorders[2]]}/>\r\n                    :preorders.length>1?\r\n                        <Preorder type={2} del={del} history={props.history} items={[preorders[0], preorders[1]]}/>\r\n                        :preorders.length>0?\r\n                            <Preorder type={2} del={del} history={props.history} items={[preorders[0]]}/>\r\n                            :<Error/>\r\n            }\r\n            </>\r\n        );\r\n    })\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        user: state.user,\r\n        app: state.app\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Main);\r\n"],"sourceRoot":""}